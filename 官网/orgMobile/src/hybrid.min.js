window.onerror=function(a){log("window.onerror: "+a)};function setupWebViewJavascriptBridge(b){if(window.WebViewJavascriptBridge){b(WebViewJavascriptBridge)}else{document.addEventListener("WebViewJavascriptBridgeReady",function(){b(WebViewJavascriptBridge)},false)}if(window.WebViewJavascriptBridge){return b(WebViewJavascriptBridge)}if(window.WVJBCallbacks){return window.WVJBCallbacks.push(b)}window.WVJBCallbacks=[b];var a=document.createElement("iframe");a.style.display="none";a.src="wvjbscheme://__BRIDGE_LOADED__";document.documentElement.appendChild(a);setTimeout(function(){document.documentElement.removeChild(a)},0);console.log(window.WVJBCallbacks)}setupWebViewJavascriptBridge(function(f){var a=navigator.userAgent;var d=a.indexOf("Android")>-1||a.indexOf("Adr")>-1;var c=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);var e=1;function b(i,j){var h=document.getElementById("log");var g=document.createElement("div");g.className="logLine";g.innerHTML=e+++". "+i+":<br/>"+JSON.stringify(j);if(h.children.length){h.insertBefore(g,h.children[0])}else{h.appendChild(g)}}if(c){f.callHandler("getUserIdFromObjC",null,function(h){var g=h.accessToken;$.cookie("Authorization",g);b("JS call ObjC's getUserIdFromObjC function, and js received response token:",g)})}if(d){f.callHandler("getUserIdFromObjC",null,function(h){var g=h;$.cookie("Authorization",g);b("JS call ObjC's getUserIdFromObjC function, and js received response token:",g)});$("#appCamera").on("tap",function(){f.callHandler("getCamera",null,function(h){var g=h;$.cookie("doorPhoto",g);$("#blah").attr("src",h);b("JS call ObjC's getUserIdFromObjC function, and js received response doorPhoto:",h)})})}$("#back").on("tap",function(){f.callHandler("getBack",function(){b("返回原生机构入口")})});$("#close").on("tap",function(){f.callHandler("closeOrg",function(){b("关闭机构")})});$(".sendMessage").on("tap",function(){var g=$.cookie("info");f.callHandler("chatMore",g,function(){b("info",g)})});$(".expDetail").on("click",".consult-now",function(){var g=$.cookie("tel");f.callHandler("callPhone",{tel:g},function(){})})});